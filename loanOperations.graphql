input CreateLoanInputData {
   loanInput: CreateLoanInput!
   accountingEntry: BaseEntryRegistrationInput
   schedule: [CreateLoanScheduleInput!]
   borrower: CreateCustomerInput
   lender: CreateSupplierInput
   loanCounterpartyID: ID
}

input UpdateLoanInputData {
   id: ID!
   loanInput: UpdateLoanInput!
   accountingEntry: BaseEntryRegistrationInput
}

type LoanCounterpartySummary {
  name: String!
  outstandingBalance: Float!
  totalBorrowed: Float!
  loansCount: Int!
  averageInterestRate: Float!
}

extend type Mutation {
   createLoan(input: CreateLoanInputData!): Loan!
   createLoanSchedule(input: [CreateLoanScheduleInput!]!, loanID: ID!): [LoanSchedule!]!

   updateLoan(input: UpdateLoanInputData!): Loan!
   updateLoanSchedule(loanID: ID!, input: [UpdateLoanScheduleInput!]!): [LoanSchedule!]!
}

extend type Query {
   getDebtorsList(companyID: ID!): [Customer!]!
   getLendersList(companyID: ID!): [Supplier!]!
   loanCounterpartySummary(lending: Boolean!, top: Int): [LoanCounterpartySummary!]!
  loansAging(isLending: Boolean!): [AgingBucket!]!
}